<!DOCTYPE html>
<html>
<head>
    <title>Invia Posizione GPS</title>
</head>
<body>
    <h1>Invia la tua posizione GPS</h1>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-database.js"></script>
    <script>
        // Configurazione di Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyDrtoAAgnA6dMfbqVeHidWalTdVOrOjarM",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            databaseURL: "live-maps-81e5e.firebaseapp.com",
            projectId: "live-maps-81e5e",
            storageBucket: "live-maps-81e5e.appspot.com",
            messagingSenderId: "46035022870",
            appId: "1:46035022870:web:3dee9637de3f9bf6dab137"
        };

        // Inizializza Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Funzione per inviare la posizione GPS al database Firebase
        function sendPosition(lat, lon) {
            database.ref('location').set({
                latitude: lat,
                longitude: lon
            });
        }

        // Ottenere la posizione GPS e inviarla a Firebase
        function getLocationAndSend() {
            if (navigator.geolocation) {
                navigator.geolocation.watchPosition(function(position) {
                    sendPosition(position.coords.latitude, position.coords.longitude);
                });
            } else {
                alert("Geolocalizzazione non supportata dal browser.");
            }
        }

        // Esegui la funzione all'avvio
        getLocationAndSend();
    </script>
</body>
</html>
