<!DOCTYPE html>
<html>
<head>
    <title>Invia Posizione GPS</title>
</head>
<body>
    <h1>Invia la tua posizione GPS</h1>
    <script>
        const sheetId = '1vP191Zg9d7MRe850drkQ5zolSiekLGAtZNrFhks5i9';  // Sostituisci con l'ID del tuo foglio di calcolo

        function sendPosition(lat, lon) {
            const url = `https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec?lat=${lat}&lon=${lon}`;
            fetch(url)
                .then(response => response.json())
                .then(data => console.log(data))
                .catch(error => console.error('Errore:', error));
        }

        function getLocationAndSend() {
            if (navigator.geolocation) {
                navigator.geolocation.watchPosition(function(position) {
                    sendPosition(position.coords.latitude, position.coords.longitude);
                });
            } else {
                alert("Geolocalizzazione non supportata dal browser.");
            }
        }

        // Esegui la funzione all'avvio
        getLocationAndSend();
    </script>
</body>
</html>
